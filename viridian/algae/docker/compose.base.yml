version: "3.9"

services:
  algae:
    image: seaside-algae-smoke
    container_name: seaside-algae
    privileged: true
    build:
      dockerfile: Dockerfile.algae
      target: smoke
    environment:
      LOG_LEVEL: DEBUG
      BUFFER_SIZE: 8192  # Buffer for echo server message storing
      LOCAL_ECHO_PORT: 5000  # Port for echo server accessing
      OWNER_KEY: SuperSafeNodeOwnerKey  # Whirlpool node owner key
      PUBLIC_KEY: 5e46857bc554cce1e1c1b94a00c41189cde7eafb116500598b211c10bb3c3148  # Whirlpool node public key

  whirlpool:
    image: seaside-whirlpool-smoke
    container_name: seaside-whirlpool
    privileged: true
    build:
      dockerfile: Dockerfile.whirlpool
      target: smoke
    environment:
      LOG_LEVEL: DEBUG
      OWNER_KEY: SuperSafeNodeOwnerKey  # Whirlpool node owner key
      PUBLIC_KEY: 5e46857bc554cce1e1c1b94a00c41189cde7eafb116500598b211c10bb3c3148  # Whirlpool node public key

  echo:
    image: seaside-echo-smoke
    container_name: seaside-echo
    privileged: true
    build:
      dockerfile: Dockerfile.echo
      target: smoke
    environment:
      LOG_LEVEL: DEBUG
      BUFFER_SIZE: 8192  # Buffer for echo server message storing
      ECHO_PORT: 5000  # Port for echo server accessing

  router:
    image: seaside-router-smoke
    privileged: true
    build:
      dockerfile: Dockerfile.router
      target: smoke
